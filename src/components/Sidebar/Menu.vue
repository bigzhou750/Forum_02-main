<template>
    <div class="sidebar_menu">
        <div class="menu_header">
            <el-icon :size="25">
            <svg t="1678776322931" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="27984" width="200" height="200">
                <path
                    d="M947.2 422.4L572.8 115.2c-32-25.6-86.4-25.6-118.4 0L76.8 425.6c-12.8 6.4-16 22.4-9.6 35.2 3.2 12.8 16 19.2 28.8 19.2h32v364.8C128 892.8 163.2 928 211.2 928H416c19.2 0 32-12.8 32-32v-147.2c0-22.4 35.2-44.8 64-44.8 28.8 0 67.2 22.4 67.2 44.8V896c0 19.2 12.8 32 32 32h208c48 0 80-32 80-83.2V480h32c12.8 0 25.6-9.6 28.8-22.4 3.2-12.8 0-25.6-12.8-35.2z"
                    fill="#2c2c2c" p-id="27985"></path>
            </svg>
        </el-icon>
        <div class="menu_title">Menu</div>
        </div>

        <el-menu default-active="2" class="menu" active-text-color="black">
            <el-menu-item index="1" class="menu_item" @click="show_info">
                <el-icon :size="30">
                    <svg t="1678776483772" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="32541" width="200" height="200">
                        <path
                            d="M102.4 102.4h819.2a91.02222187 91.02222187 0 0 1 91.02222187 91.02222187v637.15555626a91.02222187 91.02222187 0 0 1-91.02222187 91.02222187H102.4a91.02222187 91.02222187 0 0 1-91.02222187-91.02222187V193.42222187a91.02222187 91.02222187 0 0 1 91.02222187-91.02222187z m182.0444448 364.08888853a91.02222187 91.02222187 0 1 0 0-182.04444373 91.02222187 91.02222187 0 0 0 0 182.04444373z m0 45.51111147a182.0444448 182.0444448 0 0 0-182.0444448 182.0444448 45.51111147 45.51111147 0 0 0 45.51111147 45.5111104h273.06666666a45.51111147 45.51111147 0 0 0 45.5111104-45.5111104 182.0444448 182.0444448 0 0 0-182.04444373-182.0444448z m318.57777707-136.53333333a45.51111147 45.51111147 0 0 0 0 91.02222186h273.06666666a45.51111147 45.51111147 0 0 0 0-91.02222186h-273.06666666z m0 182.0444448a45.51111147 45.51111147 0 0 0 0 91.02222186h273.06666666a45.51111147 45.51111147 0 0 0 0-91.02222186h-273.06666666z"
                            p-id="32542" fill="#2c2c2c"></path>
                    </svg>
                </el-icon>
                <span class="item_title">Profile</span>
            </el-menu-item>
            <el-menu-item index="1" class="menu_item" disabled>
                <el-icon :size="30">
                    <svg t="1678776553353" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="37017" width="200" height="200">
                        <path
                            d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z m0 896c-212.032 0-384-171.968-384-384S299.968 128 512 128s384 171.968 384 384-171.968 384-384 384z m94.08-513.408L512 192.064l-94.016 190.528-210.304 30.592 152.192 148.288-35.968 209.344L512 672l188.032 98.88-35.904-209.344 152.128-148.288-210.176-30.656z"
                            fill="#2c2c2c" p-id="37018"></path>
                    </svg>
                </el-icon>
                <span class="item_title">Stars</span>
            </el-menu-item>
            <el-menu-item index="1" class="menu_item" disabled>
                <el-icon :size="30">
                    <svg t="1678776587963" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="38950" width="200" height="200">
                        <path
                            d="M0 167.736v476.72c0 92.72 68.296 167.728 152.6 167.728h228.904l8 211.816L614.4 812.184h257c84.304 0 152.6-75.016 152.6-167.728v-476.72C1024 75.016 955.704 0 871.4 0h-718.8C68.304 0 0 75.016 0 167.736z m658.6 264.8c0-44.192 32.104-79.48 72.296-79.48 40.208 0 72.304 35.28 72.304 79.472 0 44.192-32.2 79.472-72.304 79.472-40.192 0-72.296-35.28-72.296-79.472z m-220.904 0c0-44.192 32.104-79.48 72.304-79.48s72.296 35.28 72.296 79.472c0 44.192-32.2 79.472-72.296 79.472-40.2 0-72.304-35.28-72.304-79.472z m-216.8 0c0-44.192 32.104-79.48 72.304-79.48s72.304 35.28 72.304 79.472c0 44.192-32.208 79.472-72.4 79.472-40.104 0-72.2-35.28-72.2-79.472z"
                            p-id="38951"></path>
                    </svg>
                </el-icon>
                <span class="item_title">Messages</span>
            </el-menu-item>
            <el-menu-item index="1" class="menu_item" disabled>
                <el-icon :size="30">
                    <svg t="1678776646554" class="icon" viewBox="0 0 1280 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="39915" width="200" height="200">
                        <path
                            d="M384 512c123.8 0 224-100.2 224-224S507.8 64 384 64 160 164.2 160 288s100.2 224 224 224z m153.6 64h-16.6c-41.6 20-87.8 32-137 32s-95.2-12-137-32h-16.6C103.2 576 0 679.2 0 806.4V864c0 53 43 96 96 96h576c53 0 96-43 96-96v-57.6c0-127.2-103.2-230.4-230.4-230.4zM960 512c106 0 192-86 192-192s-86-192-192-192-192 86-192 192 86 192 192 192z m96 64h-7.6c-27.8 9.6-57.2 16-88.4 16s-60.6-6.4-88.4-16H864c-40.8 0-78.4 11.8-111.4 30.8 48.8 52.6 79.4 122.4 79.4 199.6v76.8c0 4.4-1 8.6-1.2 12.8H1184c53 0 96-43 96-96 0-123.8-100.2-224-224-224z"
                            p-id="39916"></path>
                    </svg>
                </el-icon>
                <span class="item_title">Friends</span>
            </el-menu-item>

            <el-menu-item index="1" class="menu_item" disabled>
                <el-icon :size="30">
                    <svg t="1678776739880" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="42850" width="200" height="200">
                        <path
                            d="M448.487619 97.52381l130.096762 0.170666c40.399238 0.073143 73.142857 32.792381 73.191619 73.216l0.048762 21.211429a345.283048 345.283048 0 0 1 71.143619 39.960381l17.408-10.044953a73.313524 73.313524 0 0 1 99.961905 26.819048l65.219047 112.566857a73.313524 73.313524 0 0 1-22.893714 97.816381l-3.974095 2.438095-17.481143 10.093715a341.479619 341.479619 0 0 1-1.292191 83.968l12.361143 7.168a73.313524 73.313524 0 0 1 28.867048 96.329142l-2.023619 3.803429-61.098667 105.813333a73.313524 73.313524 0 0 1-96.329143 28.867048l-3.803428-2.048-16.896-9.752381a341.918476 341.918476 0 0 1-68.291048 38.083048l0.024381 29.062095a73.313524 73.313524 0 0 1-68.754286 73.264762l-4.632381 0.146285-130.121142-0.170666a73.313524 73.313524 0 0 1-73.191619-73.216l-0.048762-35.035429a346.599619 346.599619 0 0 1-57.368381-34.035809l-31.158857 17.944381a73.313524 73.313524 0 0 1-99.986286-26.819048l-65.219048-112.566857a73.313524 73.313524 0 0 1 22.918095-97.816381l3.949715-2.438095 31.719619-18.285715c-2.438095-23.161905-2.56-46.665143-0.219429-70.119619l-35.206095-20.333714a73.313524 73.313524 0 0 1-28.891429-96.329143l2.048-3.803428 61.098667-105.813334a73.313524 73.313524 0 0 1 96.329143-28.867047l3.803429 2.048 30.72 17.724952a341.284571 341.284571 0 0 1 64.609523-39.716571l-0.048762-27.89181a73.313524 73.313524 0 0 1 68.754286-73.264762L448.487619 97.52381z m145.798095 283.721142a146.407619 146.407619 0 0 0-200.167619 53.638096 146.773333 146.773333 0 0 0 53.711238 200.362666 146.407619 146.407619 0 0 0 200.167619-53.638095 146.773333 146.773333 0 0 0-53.711238-200.362667z m-136.655238 90.258286a73.118476 73.118476 0 0 1 96.182857-28.842667l3.803429 2.048 3.657143 2.267429a73.508571 73.508571 0 0 1 23.210666 98.011429 73.118476 73.118476 0 0 1-99.961904 26.819047 73.48419 73.48419 0 0 1-26.892191-100.303238z"
                            p-id="42851" fill="#2c2c2c"></path>
                    </svg>
                </el-icon>
                <span class="item_title">Settings</span>

            </el-menu-item>
            <el-menu-item index="0" class="menu_item" @click="logout_">
                <el-icon :size="30">
                    <svg t="1678776888547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="46362" width="200" height="200"><path d="M559.5136 441.07776A61.44 61.44 0 0 0 614.4 379.98592v-85.4016c0-7.2704 2.8672-14.27456 8.04864-19.53792a29.77792 29.77792 0 0 1 41.2672-0.98304l223.82592 207.13472a41.69728 41.69728 0 0 1 0 61.60384l-223.8464 207.13472a29.63456 29.63456 0 0 1-20.11136 7.82336C627.46624 757.76 614.4 745.0624 614.4 729.3952v-85.4016a61.44 61.44 0 0 0-54.8864-61.07136l-186.81856-20.00896C347.09504 560.16896 327.68 538.19392 327.68 512c0-26.19392 19.43552-48.16896 45.01504-50.91328l186.81856-20.00896z m-189.6448-226.34496l-93.0816 23.26528A40.96 40.96 0 0 0 245.76 277.72928v468.52096a40.96 40.96 0 0 0 31.0272 39.7312l93.0816 23.28576A52.46976 52.46976 0 0 1 409.6 860.16a40.96 40.96 0 0 1-40.96 40.96h-143.36a102.4 102.4 0 0 1-102.4-102.4V225.28a102.4 102.4 0 0 1 102.4-102.4h143.36a40.96 40.96 0 0 1 40.96 40.96c0 24.064-16.384 45.056-39.7312 50.8928z" p-id="46363" fill="#2c2c2c"></path></svg>
                </el-icon>
                <span class="item_title">Log out</span>
            </el-menu-item>


        </el-menu>
    </div>
</template>
  
<script lang="ts" setup>
import {
    Document,
    Menu as IconMenu,
    Avatar,
    Setting,
    ChatDotRound,
    Upload

} from '@element-plus/icons-vue'
import { computed } from 'vue';
import { logout } from '../../api/auth';
import { UserModel } from '../../model/UserModel';
import { SidebarView, useGlobalStore } from '../../stores/globalStore';
import { showInfo } from "../../api/user_api";
const globalStore = useGlobalStore();
const account = computed(() => globalStore.account);
const handleOpen = (key: string, keyPath: string[]) => {
    console.log(key, keyPath)
}
const handleClose = (key: string, keyPath: string[]) => {
    console.log(key, keyPath)
}
function logout_() {
    logout();
    globalStore.setSidebarView(SidebarView.LoginView);
}
function show_info() {
  const user:UserModel = {
  uid: account.value?.uid!,
  name: account.value?.name!,
  profileImage: account.value?.profileImage,
  portraitImage: account.value?.portraitImage,
  createdAt: account.value?.createdAt
}
    if (user) {
        showInfo(user)
    }
}
</script>
  
<style lang="scss" scoped>.sidebar_menu {
    .menu_header{
        padding-top: 20px;
        .menu_title {
        font-size: 25px;
        font-weight: bold;
        display: inline-block;
        justify-self: center;
        align-self: center;
        // padding-block: 20px;
        // text-align: left;
        // padding-left: 30px;
    }
    }


    .menu {
        .menu_item {
            padding-block: 10px;
            .item_title {
                font-size: 15px;
                font-weight: bold;
                color: black;
                padding-left: 10px;
            }
        }
    }
}</style>